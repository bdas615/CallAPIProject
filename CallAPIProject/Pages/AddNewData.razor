@page "/pages/AddNewData";
@using Project_Models
@*@page "/pages/Edit/{id:Int}";*@

<div class="row my-2">
    <h3 class="card-title text-primary mb-3 ml-3">@Title Page</h3> 
</div>

<EditForm Model="@Data" OnValidSubmit="CreateNewData">
    <DataAnnotationsValidator />

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">TokenKey</label>
        <InputText type="text" class="form-control" placeholder="Token Key"
                   aria-describedby="basic-addon1" @bind-Value="Data.TokenKey">
        </InputText>
        <ValidationMessage For="()=>Data.TokenKey"></ValidationMessage>
    </div>


<label for="exampleFormControlInput1" class="form-label">Select Device Type</label>
  <div class="mb-3">
<InputSelect class="form-select" @bind-Value="Data.DevType" 
    aria-label="Default select example">  
    @foreach(var option in DeviceOptions)
    {
        <option value="@option.OptionValue">@option.OptionName</option> 
    }
</InputSelect>
        <ValidationMessage For="()=>Data.DevType"></ValidationMessage>
    </div>
    

    <div class="mb-3">
        <label for="exampleFormControlInput1" 
               class="form-label">Device Type Other
        </label>
        <InputText type="text" 
                   class="form-control" 
                   placeholder="Enter Your Device Type Other(If Any). Write NA if none.."
                   aria-describedby="basic-addon1" 
                   @bind-Value="Data.DevTypeOther">
        </InputText>
        <ValidationMessage For="()=>Data.DevTypeOther"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Make</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Make"
                   aria-describedby="basic-addon1" @bind-Value="Data.Make">
        </InputText>
        <ValidationMessage For="()=>Data.Make"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Model</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Model"
                   aria-describedby="basic-addon1" @bind-Value="Data.Model">
        </InputText>
        <ValidationMessage For="()=>Data.Model"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Owner</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Owner"
                   aria-describedby="basic-addon1" @bind-Value="Data.Owner">
        </InputText>
        <ValidationMessage For="()=>Data.Owner"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Location</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Location"
                   aria-describedby="basic-addon1" @bind-Value="Data.Location">
        </InputText>
        <ValidationMessage For="()=>Data.Location"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Serial</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Serial Number"
                   aria-describedby="basic-addon1" @bind-Value="Data.Serial">
        </InputText>
        <ValidationMessage For="()=>Data.Serial"></ValidationMessage>
    </div>


   @* <div class="mb-3">
    <label for="exampleFormControlInput1" class="form-label">Device PurchaseDate</label>
    <InputDate type="date" class="form-control" placeholder="Enter Your Device PurchaseDate"
    aria-describedby="basic-addon1" @bind-Value="Data.PurchaseDate" >
    </InputDate>
    <ValidationMessage For="()=>Data.PurchaseDate"></ValidationMessage>
    </div>

    <div class="mb-3">
    <label for="exampleFormControlInput1" class="form-label">Device WarrantyExpDate</label>
        <InputDate type="date" class="form-control" placeholder="Enter Your Device WarrantyExpDate"
    aria-describedby="basic-addon1" @bind-Value="Data.WarrantyExpDate">
    </InputDate>
    <ValidationMessage For="()=>Data.WarrantyExpDate"></ValidationMessage>
    </div>

    <div class="mb-3">
    <label for="exampleFormControlInput1" class="form-label">Device Service Expiry Date</label>
        <InputDate type="date" class="form-control" placeholder="Enter Your Device Service Expiry Date"
    aria-describedby="basic-addon1" @bind-Value="Data.ServiceExpDate">
    </InputDate>
    <ValidationMessage For="()=>Data.ServiceExpDate"></ValidationMessage>
    </div>*@

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Value</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Value"
                   aria-describedby="basic-addon1" @bind-Value="Data.Value">
        </InputText>
        <ValidationMessage For="()=>Data.Value"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Size</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Size"
                   aria-describedby="basic-addon1" @bind-Value="Data.Size">
        </InputText>
        <ValidationMessage For="()=>Data.Size"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device Toner</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device Toner"
                   aria-describedby="basic-addon1" @bind-Value="Data.Toner">
        </InputText>
        <ValidationMessage For="()=>Data.Toner"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device MAC Address</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device MAC Address"
                   aria-describedby="basic-addon1" @bind-Value="Data.MacAddress">
        </InputText>
        <ValidationMessage For="()=>Data.MacAddress"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device IP Address</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device IP Address"
                   aria-describedby="basic-addon1" @bind-Value="Data.IPAddress">
        </InputText>
        <ValidationMessage For="()=>Data.IPAddress"></ValidationMessage>
    </div>

    <div class="mb-3">
        <label for="exampleFormControlInput1" class="form-label">Device CellPhone Number</label>
        <InputText type="text" class="form-control" placeholder="Enter Your Device CellPhone Number"
                   aria-describedby="basic-addon1" @bind-Value="Data.CellNumber">
        </InputText>
        <ValidationMessage For="()=>Data.CellNumber"></ValidationMessage>
    </div>

<div class="form-group py-2">
                <button class="btn btn-primary">@Title</button>
        <NavLink href="Pages/Project/Services/placeholderData" class="btn btn-secondary">Back to Index</NavLink>
</div>
</EditForm>

@code {

    [Parameter]
    public int Id { get; set; }

    public string c { get; set; }

    public DataDetails Data { get; set; } = new DataDetails();

    List<DeviceTypeOptions> DeviceOptions = new List<DeviceTypeOptions>()
    {
        new DeviceTypeOptions() {  OptionName = "Select...", OptionValue = " " },
        new DeviceTypeOptions() {  OptionName = "Laptop/Desktop", OptionValue = "1" },
        new DeviceTypeOptions() {  OptionName = "Misc", OptionValue = "2" },
        new DeviceTypeOptions() {  OptionName = "Mobile Phone", OptionValue = "3" },
        new DeviceTypeOptions() {  OptionName = "Monitor", OptionValue = "4" },
        new DeviceTypeOptions() {  OptionName = "Polycom", OptionValue = "5" },
        new DeviceTypeOptions() {  OptionName = "Printer", OptionValue = "6" },
        new DeviceTypeOptions() {  OptionName = "Server", OptionValue = "7" },
    };

    private string Title { get; set; } = "Create User";

    //private async Task ButtonClick() 
    //{
    //    Data.DevTypeOther = "Button Clicked";
    //}

    private async Task CreateNewData()
    {
        if (Data.DevId == 0)
        {
            c = "created";
        }
        else
        {
            c = "not created";
        }
    }





}
