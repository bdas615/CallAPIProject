@page "/Pages/Project/TokenService/DisplayInventoryData"
@using Project_Models

@inject GetInventoryData GetInv

@*@inherits DisplayInventoryDataBase*@

@using Newtonsoft.Json
@using Data

<h3>Display Inventory API Data</h3>

<button @onclick="@(()=>GetInv.GetAllData())">Button</button>

<EditForm Model="@Data" OnValidSubmit="DeviceGet">
    
    <div class="mb-3">
        <label for="exampleFormControlInput1"
               class="form-label">
            Device Type Other
        </label>
      
        <InputText type="text" 
                   class="form-control"
                   aria-describedby="basic-addon1"
                   @bind-Value="Data.TokenKey">
        </InputText>
        <ValidationMessage For="()=>Data.TokenKey"></ValidationMessage>

        <div class="form-group py-2">
            <button class="btn btn-primary">@ButtonTitle</button>
            <NavLink href="/Pages/Index" class="btn btn-secondary">Back to Index</NavLink>
        </div>

    </div>

</EditForm>



@code 
{
    public GetAllDetails Data { get; set; } = new GetAllDetails();

    public string ButtonTitle { get; set; } = "Get Data";

    HttpClient client = new HttpClient();

    public async void DeviceGet()
    {
        //await client.GetFromJsonAsync(HttpMethod.Post, "Device_Get",Data.DevId);
    }
        
    //private async void GetUser()
    //    {
    //        var apiName = "Device_GetAll";
    //        var httpResponse = await client.GetAsync(apiName);
    //        if (httpResponse.IsSuccessStatusCode)
    //        {
    //            Response responseData = JsonConvert.DeserializeObject<Response>(await httpResponse.Content.ReadAsStringAsync());
    //        Data = responseData.Users;
    //            StateHasChanged();
    //        }
    //    }

}
